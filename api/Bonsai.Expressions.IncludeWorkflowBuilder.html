<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class IncludeWorkflowBuilder </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class IncludeWorkflowBuilder ">
      
      <meta name="description" content="Represents an expression builder that uses an encapsulated workflow stored externally to generate its output.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/bonsai-rx/docs/blob/main/apidoc/Bonsai_Expressions_IncludeWorkflowBuilder.md/#L2">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Bonsai.Expressions.IncludeWorkflowBuilder">



  <h1 id="Bonsai_Expressions_IncludeWorkflowBuilder" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder" class="text-break">
Class IncludeWorkflowBuilder  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L20"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Bonsai.html">Bonsai</a>.<a class="xref" href="Bonsai.Expressions.html">Expressions</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Bonsai.Core.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Represents an expression builder that uses an encapsulated workflow stored
externally to generate its output.</p>
</div>
  <div class="markdown conceptual"><p>The <code>IncludeWorkflow</code> operator works in exactly the same way as <a class="xref" href="Bonsai.Expressions.GroupWorkflowBuilder.html">GroupWorkflow</a>, with the difference that the nested workflow definition is stored externally in a file, rather than locally in the node itself. Include nodes are used to organize larger workflows into modular building blocks. They allow reusing functionality across different parts of a workflow, or even across different projects. Changing the definition of an included workflow will be automatically reflected in all places where that workflow is reused.</p>
<p>All observable sequences passed as arguments to the outer <code>IncludeWorkflow</code> will be routed to the inner <a class="xref" href="Bonsai.Expressions.WorkflowInputBuilder.html">WorkflowInput</a> nodes. Conversely, all notifications emitted by the sequence connected to the single <a class="xref" href="Bonsai.Expressions.WorkflowOutputBuilder.html">WorkflowOutput</a> node will be passed to any observers of the include workflow node. It is possible to subscribe multiple times to the same include workflow, in which case the nested workflow will run potentially in parallel and is considered to be reentrant.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Externalized properties contained inside the included workflow will be exposed when selecting the <code>IncludeWorkflow</code> node. Any changes to the values of these properties can be recovered, even if the included workflow is reused multiple times in different parts of the program. They can also be further externalized as part of other nested operators or dynamically assigned using <a class="xref" href="Bonsai.Expressions.PropertyMappingBuilder.html"><strong>PropertyMapping</strong></a> or <a class="xref" href="Bonsai.Expressions.InputMappingBuilder.html"><strong>InputMapping</strong></a> operators.</p>
</div>
<div class="WARNING">
<h5>Warning</h5>
<p>If the nested workflow is reentrant, properties of inner nodes are shared by all asynchronous operations which are running simultaneously. If the shared state never changes across reentrant operations (i.e. the state is immutable), this is not a problem. If shared state is changing dynamically, you should consider using synchronization primitives to make sure that state updates are coordinated across the different asynchronous operations.</p>
</div>
</div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[WorkflowElementCategory(ElementCategory.Workflow)]
public sealed class IncludeWorkflowBuilder : VariableArgumentExpressionBuilder, IWorkflowExpressionBuilder, IExpressionBuilder, INamedElement</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html">ExpressionBuilder</a></div>
      <div><a class="xref" href="Bonsai.Expressions.VariableArgumentExpressionBuilder.html">VariableArgumentExpressionBuilder</a></div>
      <div><span class="xref">IncludeWorkflowBuilder</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="Bonsai.Expressions.IWorkflowExpressionBuilder.html">IWorkflowExpressionBuilder</a></div>
      <div><a class="xref" href="Bonsai.Expressions.IExpressionBuilder.html">IExpressionBuilder</a></div>
      <div><a class="xref" href="Bonsai.INamedElement.html">INamedElement</a></div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_ToString">ExpressionBuilder.ToString()</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_Unwrap_Bonsai_Expressions_ExpressionBuilder_">ExpressionBuilder.Unwrap(ExpressionBuilder)</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_GetWorkflowElement_Bonsai_Expressions_ExpressionBuilder_">ExpressionBuilder.GetWorkflowElement(ExpressionBuilder)</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_GetVisualizerElement_Bonsai_Expressions_ExpressionBuilder_">ExpressionBuilder.GetVisualizerElement(ExpressionBuilder)</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_GetVisualizerMappings_Bonsai_Expressions_ExpressionBuilder_">ExpressionBuilder.GetVisualizerMappings(ExpressionBuilder)</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_FromWorkflowElement_System_Object_Bonsai_ElementCategory_">ExpressionBuilder.FromWorkflowElement(object, ElementCategory)</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_GetElementDisplayName_System_Type_">ExpressionBuilder.GetElementDisplayName(Type)</a>
    </div>
    <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilder.html#Bonsai_Expressions_ExpressionBuilder_GetElementDisplayName_System_Object_">ExpressionBuilder.GetElementDisplayName(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilderGraphExtensions.html#Bonsai_Expressions_ExpressionBuilderGraphExtensions_AsInspectBuilder_Bonsai_Expressions_ExpressionBuilder_">ExpressionBuilderGraphExtensions.AsInspectBuilder(ExpressionBuilder)</a>
  </div>
  <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilderGraphExtensions.html#Bonsai_Expressions_ExpressionBuilderGraphExtensions_Build_Bonsai_Expressions_ExpressionBuilder_System_Linq_Expressions_Expression___">ExpressionBuilderGraphExtensions.Build(ExpressionBuilder, params Expression[])</a>
  </div>
  <div>
      <a class="xref" href="Bonsai.Expressions.ExpressionBuilderGraphExtensions.html#Bonsai_Expressions_ExpressionBuilderGraphExtensions_IsBuildDependency_Bonsai_Expressions_ExpressionBuilder_">ExpressionBuilderGraphExtensions.IsBuildDependency(ExpressionBuilder)</a>
  </div>
  </dd></dl>





  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Bonsai_Expressions_IncludeWorkflowBuilder__ctor_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.#ctor*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder__ctor" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.#ctor">
  IncludeWorkflowBuilder()
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L41"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Bonsai.Expressions.IncludeWorkflowBuilder.html">IncludeWorkflowBuilder</a> class.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IncludeWorkflowBuilder()</code></pre>
  </div>













  <h2 class="section" id="properties">Properties
</h2>


  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_ArgumentRange_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.ArgumentRange*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_ArgumentRange" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.ArgumentRange">
  ArgumentRange
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L100"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the range of input arguments the included workflow accepts.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Range&lt;int&gt; ArgumentRange { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Bonsai.Range-1.html">Range</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd></dd>
  </dl>








  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_Description_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Description*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_Description" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Description">
  Description
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L91"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets a description for the included workflow.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Browsable(false)]
public string Description { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_Name_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Name*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_Name" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Name">
  Name
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L82"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the name of the included workflow.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Browsable(false)]
public string Name { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_Path_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Path*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_Path" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Path">
  Path
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L130"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the path of the workflow to include.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Externalizable(false)]
[FileNameFilter(&quot;Bonsai Files (*.bonsai)|*.bonsai&quot;)]
public string Path { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_PropertiesXml_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.PropertiesXml*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_PropertiesXml" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.PropertiesXml">
  PropertiesXml
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L151"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the XML representation of externalized property values from the included workflow.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Browsable(false)]
public XElement[] PropertiesXml { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.xml.linq.xelement">XElement</a>[]</dt>
    <dd></dd>
  </dl>








  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_Workflow_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Workflow*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_Workflow" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Workflow">
  Workflow
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L72"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the expression builder workflow that will be used to generate the
output expression tree.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Browsable(false)]
public ExpressionBuilderGraph Workflow { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Bonsai.Expressions.ExpressionBuilderGraph.html">ExpressionBuilderGraph</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="Bonsai_Expressions_IncludeWorkflowBuilder_Build_" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Build*"></a>

  <h3 id="Bonsai_Expressions_IncludeWorkflowBuilder_Build_System_Collections_Generic_IEnumerable_System_Linq_Expressions_Expression__" data-uid="Bonsai.Expressions.IncludeWorkflowBuilder.Build(System.Collections.Generic.IEnumerable{System.Linq.Expressions.Expression})">
  Build(IEnumerable&lt;Expression&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L407"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Generates an <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.linq.expressions.expression">Expression</a> node from a collection of input arguments.
The result can be chained with other builders in a workflow.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Expression Build(IEnumerable&lt;Expression&gt; arguments)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>arguments</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.linq.expressions.expression">Expression</a>&gt;</dt>
    <dd><p>A collection of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.linq.expressions.expression">Expression</a> nodes that represents the input arguments.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.linq.expressions.expression">Expression</a></dt>
    <dd><p>An <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.linq.expressions.expression">Expression</a> tree node.</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/bonsai-rx/bonsai/blob/main/Bonsai.Core/Expressions/IncludeWorkflowBuilder.cs/#L20" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          &copy; 2024 Bonsai Foundation CIC and Contributors. Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>. Made with <a href="https://dotnet.github.io/docfx">docfx</a>
        </div>
      </div>
    </footer>
  </body>
</html>
